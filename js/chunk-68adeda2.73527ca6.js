(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68adeda2"],{4826:function(t,e,n){"use strict";n.r(e);var o,a,c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"index",attrs:{id:"index"}},[o("div",{staticClass:"wrap"},[o("div",{staticClass:"banner"}),o("div",{staticClass:"contentphone"},[o("van-cell-group",[o("van-field",{ref:"focusPhone",attrs:{label:"手机号",type:"text",clearable:"",disabled:!0,placeholder:"请输入手机号码（必填）"},on:{blur:t.getphone},model:{value:t.ifphone,callback:function(e){t.ifphone="string"===typeof e?e.trim():e},expression:"ifphone"}})],1),o("van-cell-group",{staticClass:"ContractN"},[o("i",{staticClass:"van-icon van-cell__right-icon"},[o("img",{attrs:{src:n("b887"),alt:""}})]),o("van-field",{ref:"focusContractNO",attrs:{label:"合同编号",readonly:"readonly",clearable:"",maxlength:"25",placeholder:"请选择合同编号（必选）"},on:{focus:t.getcontractNO},model:{value:t.contractNO,callback:function(e){t.contractNO="string"===typeof e?e.trim():e},expression:"contractNO"}})],1),o("van-cell-group",{staticClass:"codeinput"},[o("van-field",{ref:"focusCode",attrs:{label:"验证码",clearable:"",maxlength:"25",type:"number",placeholder:"请输入验证码"},on:{blur:t.getyzm},model:{value:t.code,callback:function(e){t.code="string"===typeof e?e.trim():e},expression:"code"}}),o("van-button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{type:"info"},on:{click:t.getcode}},[t._v("获取验证码")]),o("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],attrs:{type:"info",disabled:!0}},[t._v(t._s(t.count)+"s")])],1),o("div",{staticClass:"submit"},[o("van-button",{attrs:{type:"info",disabled:t.submitDisabled},on:{click:t.submitQuery}},[t._v("查询")])],1),o("div",{staticClass:"noBindWX"},[o("p",{staticClass:"noBindWXP",on:{click:t.changeAction}},[t._v("切换其他手机号")])])],1)]),t._m(0),o("check-picker",{ref:"son",attrs:{pickList:t.pickList,isVisible:t.pickerShow},on:{onCancel:t.onCancel,onBtn:t.onBtn}})],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reminder"},[n("p",[t._v("温馨提示：")]),n("p",[t._v("1、本功能支持从2019年8月8号起签单且纸质合同上印有二维码的合同进行查询；")]),n("p",[t._v("\n      2、如未查询到合同，请联系客户经理或致电全国统一客户服务热线\n      "),n("a",{attrs:{href:"tel:400-027-1666"}},[t._v("400-027-1666")]),t._v("。\n    ")])])}],s=n("70ea"),r=(n("cc57"),n("6288")),l=n("ac21"),u=n("6e58"),d=n("5a45"),h=(n("4e64").Base64,{data:function(){return{checkVal:null,pickerShow:!1,pickList:[],num:0,flag:!1,flagPhone:!0,show:!0,dialogShow:!1,count:"",timer:null,submitDisabled:!0,isReg:{idcardReg:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,phoneReg:/^1[3456789]\d{9}$/},contractList:[{id:4,productname:"产品D",money:1e5,deadline:"12月",profit:.0721111,startdate:null,enddate:null,bank:"汉口银行",branch:"沿港路支行",bankcardnum:"441265745657412",manager:"zio",managerphone:13574875412,contractid:null,customername:null,customerid:null,customerphone:null}],contractNO:"",username:"",cardNo:"",phone:localStorage.getItem("phone")?localStorage.getItem("phone"):"",ifphone:"",code:""}},components:(o={},Object(s["a"])(o,r["a"].Component.name,r["a"].Component),Object(s["a"])(o,"ContractList",u["a"]),Object(s["a"])(o,"checkPicker",d["a"]),o),mounted:function(){var t=this,e=localStorage.getItem("phone")?localStorage.getItem("phone"):"";t.ifphone=e.substr(0,3)+"****"+e.substr(7),t.initqueryContractNO(),t.postRequest("/scancode").then((function(t){})).catch((function(t){console.log(t)}))},watch:{code:function(t,e){this.Validate()},contractNO:function(t,e){this.Validate()},phone:function(t,e){this.Validate(),this.contractNO="",this.checkVal=null,this.$refs["son"].checkVal=null,this.initqueryContractNO()}},methods:{onCancel:function(){this.pickerShow=!1},onBtn:function(t){var e=this;t?(e.pickerShow=!1,e.contractNO=e.pickList[t-1].contractid):Object(l["a"])({message:"请选择合同编号",duration:2e3})},Validate:function(){var t=this,e=t.contractNO,n=(t.phone,t.code);""==e||n.length<4?t.submitDisabled=!0:t.submitDisabled=!1},changeAction:function(){this.$router.push({path:"/index"})},initqueryContractNO:function(){var t=this,e=t.phone,n=t.isReg.phoneReg;if(n.test(e)){var o={customerphone:t.phone};t.queryPost("/getcontractidbyphone",o).then((function(e){var n=e.data;if(t.pickList=n,1==e.data.length){n=e.data;t.contractNO=n[0].contractid}}))}else t.$refs.focusPhone.focus()},getcontractNO:function(){var t=this;clearTimeout(a);var e=t.phone,n=t.isReg.phoneReg;a=setTimeout((function(){if(""!=e)return n.test(e)?void(t.pickerShow=!0):(Object(l["a"])({message:"请输入正确的手机号",duration:3e3}),void t.$refs.focusPhone.focus());Object(l["a"])({message:"手机号不能为空",duration:3e3})}),25)},getphone:function(){var t=this,e=t.phone,n=t.isReg.phoneReg;a=setTimeout((function(){if(""!=e)return n.test(e)?void 0:(Object(l["a"])({message:"请输入正确的手机号",duration:3e3}),void t.$refs.focusPhone.focus())}),25)},getyzm:function(){},getcode:function(){var t=this;t.num=60,clearTimeout(a);t.isReg.phoneReg;var e=t.contractNO,n=t.phone;if(""==n)return Object(l["a"])({message:"请输入手机号码",duration:3e3}),void t.$refs.focusPhone.focus();if(""!=e){var o={customerphone:t.phone,contractid:t.contractNO};t.queryPost("/sendsms",o).then((function(e){"发送成功"==e.data?(t.flag=!0,t.flagPhone,Object(l["a"])({message:e.data,duration:3e3}),t.timer||(t.count=t.num,t.show=!1,t.timer=setInterval((function(){t.count>0&&t.count<=t.num?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)}),1e3))):(Object(l["a"])({message:e.data,duration:3e3}),t.show=!0)})).catch((function(t){console.log(t)}))}else Object(l["a"])({message:"请选择合同编号",duration:3e3})},onClose:function(){var t=this;t.dialogShow=!1},submitQuery:function(){var t=this;t.code;clearTimeout(a);var e={contractid:t.contractNO,openId:localStorage.getItem("openid")?localStorage.getItem("openid"):"",customerid:t.cardNo,customerphone:t.phone,verificationcode:t.code};t.queryPost("/getcontractlistwx",e).then((function(e){"string"==typeof e.data?Object(l["a"])({message:e.data,duration:3e3}):t.$router.push({path:"/contractdetail",query:{contractdetail:JSON.stringify(e.data),contractid:t.contractNO}})})).catch((function(t){console.log(t)}))}}}),p=h,f=(n("9620"),n("4023")),m=Object(f["a"])(p,c,i,!1,null,null,null);e["default"]=m.exports},9620:function(t,e,n){"use strict";var o=n("9afb"),a=n.n(o);a.a},"9afb":function(t,e,n){},ad07:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[""==t.openid?n("div",[n("Index")],1):n("div",[n("Checkphone")],1)])},a=[],c=n("3e51"),i=n("4826"),s={components:{Index:c["default"],Checkphone:i["default"]},data:function(){return{openid:""}},mounted:function(){localStorage.getItem("openid")&&"undefined"!=localStorage.getItem("openid")&&(this.openid=localStorage.getItem("openid"))}},r=s,l=n("4023"),u=Object(l["a"])(r,o,a,!1,null,null,null);e["default"]=u.exports}}]);